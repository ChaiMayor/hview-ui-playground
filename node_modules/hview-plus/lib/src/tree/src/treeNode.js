"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),B=require("./nodeContent.js"),w=require("./transition.js"),K=e.createElementVNode("i",{class:"h-icon-you1"},null,-1),V=[K],v={key:0,class:"h-tree-ul-box"},N={name:"HTreeNode"},S=e.defineComponent({...N,props:{items:{type:Object,default:()=>{}},label:String,children:String,showCheckbox:Boolean,index:Number,nodeKey:String,defaultExpandedKeys:Array,defaultCheckedKeys:Array,defaultExpandAll:Boolean,renderContent:Function,parentData:Array},setup(n){const a=n,u=e.inject("checkboxChange",()=>{}),k=e.inject("toggle-change",()=>{}),C=e.inject("checked-change",()=>{});e.onMounted(()=>{m()}),e.watch(()=>a.defaultCheckedKeys,t=>{t&&m()});const f=e.computed(()=>a.items.children&&a.items.children.length),x=e.computed(()=>({"padding-left":a.index*15+"px"})),y=e.computed(()=>["h-tree-node__expand-icon",{expanded:a.items.isOpen}]),g=t=>{t.isOpen=!t.isOpen,k(t)},b=t=>{i(a.items,t),h(),C(a.items)},i=(t,d)=>{t.isChecked=d,t.children&&t.children.length&&t.children.forEach(c=>{i(c,d)})},h=()=>{e.nextTick(()=>{u&&u()})},m=()=>{let{items:t,nodeKey:d,defaultExpandedKeys:c,defaultCheckedKeys:s,defaultExpandAll:l}=a;const o=d&&t[d],E=c.includes(o)||l,r=s.includes(o);t.isOpen=E,t.isChecked=r,e.nextTick(()=>{r&&i(a.items,r),h()})};return(t,d)=>{const c=e.resolveComponent("h-checkbox"),s=e.resolveComponent("tree-node",!0);return e.openBlock(),e.createElementBlock("ul",{class:"h-tree-node",style:e.normalizeStyle(e.unref(x))},[e.createElementVNode("div",{class:e.normalizeClass(["h-tree-node__content"]),onClick:d[1]||(d[1]=e.withModifiers(l=>g(n.items),["stop"]))},[e.createElementVNode("span",{class:e.normalizeClass(e.unref(y))},V,2),n.showCheckbox?(e.openBlock(),e.createBlock(c,{key:0,style:{"margin-right":"0"},modelValue:n.items.isChecked,"onUpdate:modelValue":d[0]||(d[0]=l=>n.items.isChecked=l),indeterminate:n.items.indeterminate,disabled:n.items.disabled,onChange:b},null,8,["modelValue","indeterminate","disabled"])):e.createCommentVNode("",!0),e.createVNode(B.default,{data:n.items,"render-content":n.renderContent,"parent-data":n.parentData},null,8,["data","render-content","parent-data"])]),e.createVNode(w.default,{duration:.3,animate:"linear"},{default:e.withCtx(()=>[e.unref(f)?e.withDirectives((e.openBlock(),e.createElementBlock("div",v,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.items.children,(l,o)=>(e.openBlock(),e.createBlock(s,{key:o,items:l,label:n.label,children:n.children,"show-checkbox":n.showCheckbox,index:n.index&&n.index+1,"node-key":n.nodeKey,"default-expanded-keys":n.defaultExpandedKeys,"default-checked-keys":n.defaultCheckedKeys,"default-expand-all":n.defaultExpandAll,"render-content":n.renderContent,"parent-data":n.items.children},null,8,["items","label","children","show-checkbox","index","node-key","default-expanded-keys","default-checked-keys","default-expand-all","render-content","parent-data"]))),128))],512)),[[e.vShow,n.items.isOpen]]):e.createCommentVNode("",!0)]),_:1},8,["duration"])],4)}}});exports.default=S;
